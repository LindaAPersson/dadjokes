{% extends "base.html" %}
{% load static %}
{% url 'JokeLike' as JokeLike_url %}
{% block content %}

<h1>Test ser vi detta?</h1>
    
    <p>test</p>
    <p>{{ joke.id }}</p>
    <p>{{ joke.creator }}</p>

    <body>
        <h1>Posts list</h1>
        {% for joke in object_list %}
        <h2>{{joke.id}}</h2>
        <p>{{joke.joke_text}}</p>
        <p>Author: {{joke.creator}}</p>
        <p>Made: {{joke.created_on}}</p>
        {% endfor %}

        <!-- LIKES -->
        {% if user.is_authenticated %}
        <form action="{% url 'jokes_page' %}" method="POST"></form> 
        {% csrf_token %}

        {% if post_is_liked %}
        <button type="submit" name="blogpost_id" value="{{joke.id}}" class="btn btn-info">Unlike</button>
        {% else %}
        <button type="submit" name="blogpost_id" value="{{joke.id}}" class="btn btn-info">Like</button>
        {% endif %}
        </form>
        {% else %}
        <a class="btn btn-outline-info" href="{% url 'login' %}?next={{request.path}}">Log in to like this article!</a><br>
        {% endif %}
        <strong class="text-secondary">{{ number_of_likes }} Like{{ number_of_likes|pluralize }}</strong>


        <!-- next button -->
        {% if is_paginated %}
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}" class="page-link">&laquo; PREV </a></li>
                {% endif %}
                {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}" class="page-link"> NEXT &raquo;</a></li>
                {% endif %}
            </ul>
        </nav>
    {% endif %}

        
    </body>
<!-- jokes.html content ends here -->
{% endblock %}